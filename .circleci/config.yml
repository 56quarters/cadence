version: 2.1
orbs:
  rust: glotrade/rust@0.1.3

workflows:
  workflow:
    jobs:
    - rust/clippy:
        toolchain: "stable"
    - rust/format:
        toolchain: "stable"
    - rust/test:
        matrix:
          parameters:
            # Only test stable, beta, nightly, and 1.36 since we only have a limited
            # amount of build credits each month. We test back to 1.36 since that's
            # what our dependencies support and thus we should too.
            toolchain:
            - "stable"
            - "beta"
            - "nightly"
            - "1.36.0"